/*! For license information please see app.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e={177:(t,e,r)=>{r.d(e,{A:()=>c});var n=r(354),o=r.n(n),i=r(314),a=r.n(i)()(o());a.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/styles/styles.css"],names:[],mappings:"AAAA;QACQ,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const c=a},956:(t,e,r)=>{var n={};r.r(n),r.d(n,{checkAuthenticatedRoute:()=>T,checkUnauthenticatedRouteOnly:()=>P,getAccessToken:()=>_,getLogout:()=>N,putAccessToken:()=>S,removeAccessToken:()=>j});var o={};r.r(o),r.d(o,{TambahData:()=>wt,default:()=>Tt,getAllReports:()=>vt,getData:()=>dt,getLogin:()=>xt,getRegistered:()=>Et,getStoryById:()=>gt,subscribePushNotification:()=>St,unsubscribePushNotification:()=>Ot});var i=r(72),a=r.n(i),c=r(825),u=r.n(c),s=r(659),l=r.n(s),f=r(56),h=r.n(f),p=r(540),d=r.n(p),y=r(113),v=r.n(y),m=r(177),g={};function b(t){var e=t.split("/");return{resource:e[1]||null,id:e[2]||null}}function w(){return location.hash.replace("#","")||"/"}function k(){return t=b(w()),e="",t.resource&&(e=e.concat("/".concat(t.resource))),t.id&&(e=e.concat("/:id")),e||"/";var t,e}g.styleTagTransform=v(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=u(),g.insertStyleElement=d(),a()(m.A,g),m.A&&m.A.locals&&m.A.locals;var x="accessToken",E="https://story-api.dicoding.dev/v1";function _(){try{var t=localStorage.getItem(x);return"null"===t||"undefined"===t?null:t}catch(t){return console.error("getAccessToken: error:",t),null}}function S(t){try{return localStorage.setItem(x,t),!0}catch(t){return console.error("putAccessToken: error:",t),!1}}function j(){try{return localStorage.removeItem(x),!0}catch(t){return console.error("getLogout: error:",t),!1}}var O=["/login","/register"];function P(t){var e=k(),r=!!_();return O.includes(e)&&r?(location.hash="/",null):t}function T(t){return _()?t:(location.hash="/login",{render:function(){return"<p>Redirecting to login...</p>"},afterRender:function(){}})}function N(){j()}function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function B(){B=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==I(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(I(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function G(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function F(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){G(i,n,o,a,c,"next",t)}function c(t){G(i,n,o,a,c,"throw",t)}a(void 0)}))}}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}function D(t){var e=function(t){if("object"!=I(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==I(e)?e:e+""}function C(t,e,r){R(t,e),e.set(t,r)}function R(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W(t,e){return t.get(U(t,e))}function H(t,e,r){return t.set(U(t,e),r),r}function U(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Y=new WeakMap,z=new WeakMap,q=new WeakMap,V=new WeakMap,J=new WeakMap,K=new WeakMap,Q=new WeakMap,Z=new WeakMap,$=new WeakSet,X=function(){function t(e){var r,n=e.video,o=e.cameraSelect,i=e.canvas;e.options,function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,r=$),r.add(this),C(this,Y,void 0),C(this,z,!1),C(this,q,640),C(this,V,0),C(this,J,void 0),C(this,K,void 0),C(this,Q,void 0),C(this,Z,void 0),H(J,this,n),H(K,this,o),H(Q,this,i),U($,this,tt).call(this)}return e=t,r=[{key:"launch",value:(i=F(B().mark((function e(){return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=H,e.t1=Y,e.t2=this,e.next=5,U($,this,nt).call(this);case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),t.addNewStream(W(Y,this)),W(J,this).srcObject=W(Y,this),W(J,this).play(),U($,this,it).call(this);case 11:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"stop",value:function(){W(J,this)&&(W(J,this).srcObject=null,H(z,this,!1)),W(Y,this)instanceof MediaStream&&W(Y,this).getTracks().forEach((function(t){t.stop()})),U($,this,it).call(this)}},{key:"takePicture",value:(o=F(B().mark((function t(){var e,r=this;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(W(q,this)&&W(V,this)){t.next=2;break}return t.abrupt("return",null);case 2:return e=W(Q,this).getContext("2d"),W(Q,this).width=W(q,this),W(Q,this).height=W(V,this),e.drawImage(W(J,this),0,0,W(q,this),W(V,this)),t.next=8,new Promise((function(t){W(Q,r).toBlob((function(e){return t(e)}))}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"addCheeseButtonListener",value:function(t,e){H(Z,this,document.querySelector(t)),W(Z,this).onclick=e}}],n=[{key:"addNewStream",value:function(t){Array.isArray(window.currentStreams)?window.currentStreams=[].concat(function(t){return function(t){if(Array.isArray(t))return A(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return A(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(window.currentStreams),[t]):window.currentStreams=[t]}},{key:"stopAllStreams",value:function(){try{if(!Array.isArray(window.currentStreams))return void(window.currentStreams=[]);window.currentStreams.forEach((function(t){if(t&&t.active)try{t.getTracks().forEach((function(t){t&&t.stop&&t.stop()}))}catch(t){}})),window.currentStreams=[]}catch(t){window.currentStreams=[]}}}],r&&M(e.prototype,r),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i}();function tt(){var t=this;W(J,this).oncanplay=function(){W(z,t)||(H(V,t,W(J,t).videoHeight*W(q,t)/W(J,t).videoWidth),W(Q,t).setAttribute("width",W(q,t)),W(Q,t).setAttribute("height",W(V,t)),H(z,t,!0))},W(K,this).onchange=F(B().mark((function e(){return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.stop();case 2:return e.next=4,t.launch();case 4:case"end":return e.stop()}}),e)})))}function et(t){return rt.apply(this,arguments)}function rt(){return(rt=F(B().mark((function t(e){var r,n,o,i,a;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e instanceof MediaStream){t.next=3;break}return t.abrupt("return",Promise.reject(Error("MediaStream not found!")));case 3:return r=e.getVideoTracks()[0].getSettings(),n=r.deviceId,t.next=6,navigator.mediaDevices.enumerateDevices();case 6:o=t.sent,i=o.filter((function(t){return"videoinput"===t.kind})),a=i.reduce((function(t,e,r){return t.concat('\n            <option\n              value="'.concat(e.deviceId,'"\n              ').concat(n===e.deviceId?"selected":"","\n            >\n              ").concat(e.label||"Camera ".concat(r+1),"\n            </option>\n          "))}),""),W(K,this).innerHTML=a,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("#populateDeviceList: error:",t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})))).apply(this,arguments)}function nt(){return ot.apply(this,arguments)}function ot(){return(ot=F(B().mark((function t(){var e,r;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=W(z,this)||W(K,this).value?{exact:W(K,this).value}:void 0,t.next=4,navigator.mediaDevices.getUserMedia({video:{aspectRatio:4/3,deviceId:e}});case 4:return r=t.sent,t.next=7,U($,this,et).call(this,r);case 7:return t.abrupt("return",r);case 10:return t.prev=10,t.t0=t.catch(0),console.error("#getStream: error:",t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,this,[[0,10]])})))).apply(this,arguments)}function it(){var t=W(Q,this).getContext("2d");t.fillStyle="#AAAAAA",t.fillRect(0,0,W(Q,this).width,W(Q,this).height)}function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ut(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(r),!0).forEach((function(e){st(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function st(t,e,r){return(e=function(t){var e=function(t){if("object"!=at(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=at(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==at(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lt(){lt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==at(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(at(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ft(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ht(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ft(i,n,o,a,c,"next",t)}function c(t){ft(i,n,o,a,c,"throw",t)}a(void 0)}))}}var pt={ENDPOINT:"".concat(E,"/your/endpoint/here"),REPORT_LIST:"".concat(E,"/stories"),ADD_REPORT:"".concat(E,"/stories"),LOGIN:"".concat(E,"/login"),REGISTER:"".concat(E,"/register"),DETAIL_STORY:function(t){return"".concat(E,"/stories/").concat(t)},SUBSCRIBE:"".concat(E,"/notifications/subscribe"),UNSUBSCRIBE:"".concat(E,"/notifications/subscribe")};function dt(){return yt.apply(this,arguments)}function yt(){return(yt=ht(lt().mark((function t(){var e;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(pt.ENDPOINT);case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vt(){return mt.apply(this,arguments)}function mt(){return(mt=ht(lt().mark((function t(){var e,r,n;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=_(),t.prev=1,t.next=4,fetch(pt.REPORT_LIST,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});case 4:return r=t.sent,t.next=7,r.json();case 7:if(n=t.sent,console.log("API Response:",n),r.ok){t.next=12;break}return console.error("API Error:",n),t.abrupt("return",{ok:!1,message:n.message||"Failed to fetch stories"});case 12:return t.abrupt("return",ut(ut({},n),{},{ok:!0,listStory:n.listStory||[]}));case 15:return t.prev=15,t.t0=t.catch(1),console.error("Fetch Error:",t.t0),t.abrupt("return",{ok:!1,message:t.t0.message||"Failed to fetch stories"});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}function gt(t){return bt.apply(this,arguments)}function bt(){return(bt=ht(lt().mark((function t(e){var r,n,o;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=_(),t.next=3,fetch(pt.DETAIL_STORY(e),{headers:{Authorization:"Bearer ".concat(r)}});case 3:return n=t.sent,t.next=6,n.json();case 6:return o=t.sent,t.abrupt("return",ut(ut({},o),{},{ok:n.ok}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function wt(t){return kt.apply(this,arguments)}function kt(){return(kt=ht(lt().mark((function t(e){var r,n,o,i,a,c,u,s;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.description,n=e.photo,o=e.lat,i=e.lon,a=_(),(c=new FormData).set("description",r),c.set("lat",o),c.set("lon",i),c.append("photo",n),t.next=9,fetch(pt.ADD_REPORT,{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:c});case 9:return u=t.sent,t.next=12,u.json();case 12:return s=t.sent,t.abrupt("return",ut(ut({},s),{},{ok:u.ok}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xt(t){return Lt.apply(this,arguments)}function Lt(){return(Lt=ht(lt().mark((function t(e){var r,n,o,i,a;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.email,n=e.password,o=JSON.stringify({email:r,password:n}),t.next=4,fetch(pt.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:o});case 4:return i=t.sent,t.next=7,i.json();case 7:return a=t.sent,t.abrupt("return",ut(ut({},a),{},{ok:i.ok}));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Et(t){return _t.apply(this,arguments)}function _t(){return(_t=ht(lt().mark((function t(e){var r,n,o,i,a,c;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,n=e.email,o=e.password,i=JSON.stringify({name:r,email:n,password:o}),t.next=4,fetch(pt.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:i});case 4:return a=t.sent,t.next=7,a.json();case 7:return c=t.sent,t.abrupt("return",ut(ut({},c),{},{ok:a.ok}));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function St(t){return jt.apply(this,arguments)}function jt(){return(jt=ht(lt().mark((function t(e){var r,n,o,i,a,c,u,s,l;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.endpoint,n=e.keys,o=n.p256dh,i=n.auth,t.prev=1,a=_()){t.next=6;break}return console.error("No access token found. User must be logged in to subscribe to notifications."),t.abrupt("return",{ok:!1,message:"User must be logged in to subscribe to notifications"});case 6:return c=JSON.stringify({endpoint:r,keys:{p256dh:o,auth:i}}),console.log("Sending subscription request to:",pt.SUBSCRIBE),t.next=10,fetch(pt.SUBSCRIBE,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:c});case 10:if((u=t.sent).ok){t.next=17;break}return console.error("Server responded with error:",u.status,u.statusText),t.next=15,u.text();case 15:s=t.sent,console.error("Error details:",s);case 17:return t.next=19,u.json();case 19:return l=t.sent,console.log("Server response:",l),t.abrupt("return",ut(ut({},l),{},{ok:u.ok}));case 24:return t.prev=24,t.t0=t.catch(1),console.error("Error in subscribePushNotification:",t.t0),t.abrupt("return",{ok:!1,message:t.t0.message||"Failed to subscribe to push notifications"});case 28:case"end":return t.stop()}}),t,null,[[1,24]])})))).apply(this,arguments)}function Ot(t){return Pt.apply(this,arguments)}function Pt(){return(Pt=ht(lt().mark((function t(e){var r,n,o,i,a,c;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.endpoint,t.prev=1,n=_()){t.next=6;break}return console.error("No access token found. User must be logged in to unsubscribe from notifications."),t.abrupt("return",{ok:!1,message:"User must be logged in to unsubscribe from notifications"});case 6:return o=JSON.stringify({endpoint:r}),console.log("Sending unsubscribe request to:",pt.UNSUBSCRIBE),t.next=10,fetch(pt.UNSUBSCRIBE,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n),Accept:"application/json"},body:o});case 10:if((i=t.sent).ok){t.next=18;break}return console.error("Server responded with error:",i.status,i.statusText),t.next=15,i.text();case 15:return a=t.sent,console.error("Error details:",a),t.abrupt("return",{ok:!1,message:a||"Failed to unsubscribe from push notifications"});case 18:return t.next=20,i.json();case 20:return c=t.sent,console.log("Server response:",c),t.abrupt("return",ut(ut({},c),{},{ok:!0}));case 25:return t.prev=25,t.t0=t.catch(1),console.error("Error in unsubscribePushNotification:",t.t0),t.abrupt("return",{ok:!1,message:t.t0.message||"Failed to unsubscribe from push notifications"});case 29:case"end":return t.stop()}}),t,null,[[1,25]])})))).apply(this,arguments)}const Tt={getData:dt,getAllReports:vt,getStoryById:gt,TambahData:wt,getLogin:xt,getRegistered:Et,subscribePushNotification:St,unsubscribePushNotification:Ot};function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function It(){It=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Nt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Nt(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function At(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Bt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){At(i,n,o,a,c,"next",t)}function c(t){At(i,n,o,a,c,"throw",t)}a(void 0)}))}}var Gt="bookmarks",Ft=function(){return new Promise((function(t,e){var r=indexedDB.open("story-app-database",1);r.onupgradeneeded=function(t){t.target.result.createObjectStore(Gt,{keyPath:"id"})},r.onsuccess=function(e){t(e.target.result)},r.onerror=function(t){e(t.target.error)}}))},Mt=function(){var t=Bt(It().mark((function t(e){var r,n;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ft();case 2:return r=t.sent,(n=r.transaction(Gt,"readwrite")).objectStore(Gt).add(e),t.abrupt("return",n.complete);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Dt=function(){var t=Bt(It().mark((function t(){var e,r,n,o;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ft();case 2:return e=t.sent,r=e.transaction(Gt,"readonly"),n=r.objectStore(Gt),o=n.getAll(),t.abrupt("return",new Promise((function(t,e){o.onsuccess=function(e){t(e.target.result)},o.onerror=function(t){e(t.target.error)}})));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ct=function(){var t=Bt(It().mark((function t(e){var r,n;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ft();case 2:return r=t.sent,(n=r.transaction(Gt,"readwrite")).objectStore(Gt).delete(e),t.abrupt("return",n.complete);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(r),!0).forEach((function(e){Ut(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ut(t,e,r){return(e=Jt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yt(){Yt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Rt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Rt(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function zt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function qt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zt(i,n,o,a,c,"next",t)}function c(t){zt(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jt(n.key),n)}}function Jt(t){var e=function(t){if("object"!=Rt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Rt(e)?e:e+""}function Kt(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Qt(t,e){return t.get($t(t,e))}function Zt(t,e,r){return t.set($t(t,e),r),r}function $t(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Xt=new WeakMap,te=new WeakMap,ee=new WeakMap,re=function(){return t=function t(e){var r=e.view,n=e.model,o=e.authModel,i=void 0===o?null:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Kt(this,Xt,void 0),Kt(this,te,void 0),Kt(this,ee,void 0),Zt(Xt,this,r),Zt(te,this,n),Zt(ee,this,i)},e=[{key:"getLogin",value:function(){var t=qt(Yt().mark((function t(e){var r,n,o;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.email,n=e.password,Qt(Xt,this).showSubmitLoadingButton(),t.prev=2,t.next=5,Qt(te,this).getLogin({email:r,password:n});case 5:if(o=t.sent,console.log(o),o.ok){t.next=11;break}return console.error("getLogin: response:",o),Qt(Xt,this).loginFailed(o.message),t.abrupt("return");case 11:Qt(ee,this)&&Qt(ee,this).putAccessToken(o.loginResult.token),Qt(Xt,this).loginSuccessfully(o.message,o.loginResult),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),console.error("getLogin: error:",t.t0),Qt(Xt,this).loginFailed(t.t0.message);case 19:return t.prev=19,Qt(Xt,this).hideSubmitLoadingButton(),t.finish(19);case 22:case"end":return t.stop()}}),t,this,[[2,15,19,22]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getRegistered",value:function(){var t=qt(Yt().mark((function t(e){var r,n,o,i;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,n=e.email,o=e.password,Qt(Xt,this).showSubmitLoadingButton(),t.prev=2,t.next=5,Qt(te,this).getRegistered({name:r,email:n,password:o});case 5:if((i=t.sent).ok){t.next=10;break}return console.error("getRegistered: response:",i),Qt(Xt,this).registeredFailed(i.message),t.abrupt("return");case 10:Qt(Xt,this).registeredSuccessfully(i.message,i.data),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.error("getRegistered: error:",t.t0),Qt(Xt,this).registeredFailed(t.t0.message);case 17:return t.prev=17,Qt(Xt,this).hideSubmitLoadingButton(),t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[2,13,17,20]])})));return function(e){return t.apply(this,arguments)}}()},{key:"initialStory",value:(a=qt(Yt().mark((function t(){var e,r,n,o,i;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Qt(Xt,this).showLoading(),t.prev=1,t.next=4,Qt(te,this).getAllReports();case 4:if(e=t.sent,console.log("initialStory: API response:",e),e.ok){t.next=10;break}return console.error("initialStory: API error response:",e),Qt(Xt,this).populateReportsListError(e.message),t.abrupt("return");case 10:if(e.listStory){t.next=14;break}return console.error("No stories found in API response"),Qt(Xt,this).populateReportsListEmpty("No stories available from API"),t.abrupt("return");case 14:return t.next=16,Dt();case 16:r=t.sent,n=new Set(Array.isArray(r)?r.map((function(t){return t.id})):[]),o=e.listStory.map((function(t){return Ht(Ht({},t),{},{isBookmarked:n.has(t.id)})})),console.log("initialStory: Processed stories (with bookmark status):",o),Qt(Xt,this).populateReportsList(e.message,o),t.next=38;break;case 23:return t.prev=23,t.t0=t.catch(1),console.error("initialStory: error:",t.t0),t.prev=26,t.next=29,Dt();case 29:i=t.sent,console.log("initialStory: Fetched offline stories from IndexedDB:",i),i.length>0?Qt(Xt,this).populateReportsList("Menampilkan cerita dari offline",i):Qt(Xt,this).populateReportsListEmpty("Gagal memuat cerita dan tidak ada data offline."),t.next=38;break;case 34:t.prev=34,t.t1=t.catch(26),console.error("initialStory: IndexedDB fallback error:",t.t1),Qt(Xt,this).populateReportsListError(t.t0.message);case 38:return t.prev=38,t.finish(38);case 40:case"end":return t.stop()}}),t,this,[[1,23,38,40],[26,34]])}))),function(){return a.apply(this,arguments)})},{key:"postNewStory",value:(i=qt(Yt().mark((function t(e){var r,n,o,i,a,c;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.description,n=e.photo,o=e.lat,i=e.lon,Qt(Xt,this).showSubmitLoadingButton(),t.prev=2,a={description:r,photo:n,lat:o,lon:i},t.next=6,Qt(te,this).TambahData(a);case 6:if((c=t.sent).ok){t.next=11;break}return console.error("TambahData: response:",c),Qt(Xt,this).storeFailed(c.message||"Failed to add story"),t.abrupt("return");case 11:Qt(Xt,this).storeSuccessfully(c.message||"Story added successfully",c.data),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),console.error("TambahData: error:",t.t0),Qt(Xt,this).storeFailed(t.t0.message||"An error occurred");case 18:return t.prev=18,Qt(Xt,this).hideSubmitLoadingButton(),t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[2,14,18,21]])}))),function(t){return i.apply(this,arguments)})},{key:"getDetailStory",value:(o=qt(Yt().mark((function t(e){var r,n;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Qt(Xt,this).showDetailLoading(),t.prev=1,t.next=4,Qt(te,this).getStoryById(e);case 4:if(r=t.sent,console.log("API Response in getDetailStory:",r),r.ok){t.next=10;break}return console.error("getDetailStory: response failed:",r),Qt(Xt,this).storeFailed(r.message||"Failed to fetch story"),t.abrupt("return");case 10:if((n=r.data||r.story||r)&&0!==Object.keys(n).length){t.next=15;break}return console.error("No valid story data found:",r),Qt(Xt,this).storeFailed("No story data available"),t.abrupt("return");case 15:Qt(Xt,this).storeSuccessfully(r.message||"Success",n),Qt(Xt,this).StoryDetail(n),n.lat&&n.lon?Qt(Xt,this).initialMap(n.lat,n.lon):console.log("Latitude or longitude missing:",n),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(1),console.error("getDetailStory: error:",t.t0),Qt(Xt,this).storeFailed(t.t0.message||"An error occurred");case 24:return t.prev=24,Qt(Xt,this).hideDetailLoading(),t.finish(24);case 27:case"end":return t.stop()}}),t,this,[[1,20,24,27]])}))),function(t){return o.apply(this,arguments)})},{key:"initialBookmark",value:(n=qt(Yt().mark((function t(){var e;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Qt(Xt,this).showReportsListLoading(),t.prev=1,t.next=4,Dt();case 4:e=t.sent,Qt(Xt,this).populateBookmarkedReports("Berhasil mendapatkan daftar laporan tersimpan dari offline.",e),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("initialBookmark: error:",t.t0),Qt(Xt,this).populateBookmarkedReportsError(t.t0.message);case 13:return t.prev=13,Qt(Xt,this).hideReportsListLoading(),t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[1,9,13,16]])}))),function(){return n.apply(this,arguments)})},{key:"toggleBookmark",value:(r=qt(Yt().mark((function t(e,r){var n,o;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("toggleBookmark: Toggling bookmark for story:",e.id,"isBookmarked (before toggle):",r),n=!1,!r){t.next=10;break}return t.next=6,Ct(e.id);case 6:console.log("toggleBookmark: Deleted from IndexedDB:",e.id),n=!0,t.next=15;break;case 10:return o={id:e.id,name:e.name,description:e.description,photoUrl:e.photoUrl,createdAt:e.createdAt,location:e.location||{},lat:e.lat,lon:e.lon},t.next=13,Mt(o);case 13:console.log("toggleBookmark: Added to IndexedDB:",e.id),n=!0;case 15:return t.abrupt("return",n);case 18:return t.prev=18,t.t0=t.catch(0),console.error("toggleBookmark: IndexedDB operation failed:",t.t0),t.abrupt("return",!1);case 22:case"end":return t.stop()}}),t,null,[[0,18]])}))),function(t,e){return r.apply(this,arguments)})}],e&&Vt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,o,i,a}();function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function oe(){oe=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ne(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ne(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ie(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ae(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ie(i,n,o,a,c,"next",t)}function c(t){ie(i,n,o,a,c,"throw",t)}a(void 0)}))}}function ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ue(n.key),n)}}function ue(t){var e=function(t){if("object"!=ne(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ne(e)?e:e+""}function se(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function le(t,e){return t.get(he(t,e))}function fe(t,e,r){return t.set(he(t,e),r),r}function he(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var pe=new WeakMap,de=new WeakMap,ye=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),se(this,pe,null),se(this,de,[])},e=[{key:"render",value:(n=ae(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <section class="hero-home">\n        <div class="hero-overlay">\n          <div class="hero-content">\n            <h1>Welcome to Dicoding Story</h1>\n            <p>Share your story with the world</p>\n            <button id="scroll-button">View Story</button>\n          </div>\n        </div>\n      </section>\n\n      <section id="story-list" class="story-list">\n        <h2>Stories</h2>\n        <div class="cards-container" id="reports-container">\n          <div class="story-card">Story is empty</div>\n        </div>\n      </section>\n    ');case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"afterRender",value:(r=ae(oe().mark((function t(){var e;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return fe(pe,this,new re({view:this,model:o})),t.next=3,le(pe,this).initialStory();case 3:(e=document.getElementById("scroll-button"))&&e.addEventListener("click",(function(){document.getElementById("story-list").scrollIntoView({behavior:"smooth"})}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"stories",set:function(t){fe(de,this,t),this.populateReportsList("",t)}},{key:"populateReportsList",value:function(t,e){var r=this,n=document.getElementById("reports-container");if(!e||e.length<=0)return console.log("No stories to display"),void this.populateReportsListEmpty();var o=e.map((function(t,e){return'\n        <div class="story-card">\n          <img src="'.concat(t.photoUrl,'" alt="').concat(t.name,'" class="story-photo">\n          <h3>').concat(t.name,'</h3>\n          <p id="story-description">').concat(t.description,"</p>\n          <p><strong>Location:<br></strong> Latitude: ").concat(t.lat,",<br> Longitude: ").concat(t.lon,'</p>\n          <div id="map-').concat(e,'" style="height: 200px; width: 100%; margin-top: 10px;" aria-label="Map showing location of story: ').concat(t.name,'"></div>\n          <div class="story-card__actions">\n            <button class="bookmark-button ').concat(t.isBookmarked?"bookmarked":"",'" data-id="').concat(t.id,'" aria-label="').concat(t.isBookmarked?"Hapus dari bookmark":"Tambah ke bookmark",'">\n              <i class="fas fa-bookmark"></i> ').concat(t.isBookmarked?"Hapus dari Bookmark":"Tambah ke Bookmark",'\n            </button>\n            <a href="#/stories/').concat(t.id,'" class="detail-button">Read more</a>\n          </div>\n        </div>\n      ')})).join("");n.innerHTML=o,n.querySelectorAll(".bookmark-button").forEach((function(t){t.addEventListener("click",function(){var n=ae(oe().mark((function n(o){var i,a,c;return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.preventDefault(),o.stopPropagation(),i=t.dataset.id,a=t.classList.contains("bookmarked"),c=e.find((function(t){return t.id===i}))){n.next=8;break}return console.error("Story object not found for ID:",i),n.abrupt("return");case 8:return console.log("Bookmark button clicked:",{storyId:i,isBookmarked:a,storyObject:c}),n.prev=9,n.next=12,le(pe,r).toggleBookmark(c,a);case 12:n.sent?(c.isBookmarked=!a,t.classList.toggle("bookmarked"),t.classList.contains("bookmarked")?(t.setAttribute("aria-label","Hapus dari bookmark"),t.innerHTML='<i class="fas fa-bookmark"></i> Hapus dari Bookmark'):(t.setAttribute("aria-label","Tambah ke bookmark"),t.innerHTML='<i class="fas fa-bookmark"></i> Tambah ke Bookmark')):console.error("Failed to toggle bookmark in IndexedDB"),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(9),console.error("Error toggling bookmark:",n.t0);case 19:case"end":return n.stop()}}),n,null,[[9,16]])})));return function(t){return n.apply(this,arguments)}}())})),e.forEach((function(t,e){if(t.lat&&t.lon)try{var r=L.map("map-".concat(e),{zoomControl:!0,doubleClickZoom:!1}).setView([t.lat,t.lon],13);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(r),L.marker([t.lat,t.lon]).addTo(r)}catch(t){console.error("Error initializing map:",t)}}))}},{key:"populateReportsListEmpty",value:function(){document.getElementById("reports-container").innerHTML='\n      <div class="story-card">Story is empty</div>\n    '}},{key:"populateReportsListError",value:function(t){document.getElementById("reports-container").innerHTML='\n      <div class="story-card">An error occurred: '.concat(t,"</div>\n    ")}},{key:"showLoading",value:function(){document.getElementById("reports-container").innerHTML='<div class="loading-spinner">Loading...</div>'}},{key:"hideLoading",value:function(){document.getElementById("reports-container").innerHTML=""}}],e&&ce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n}();function ve(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=atob(t),o=[],i=0;i<n.length;i+=r){for(var a=n.slice(i,i+r),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a.charCodeAt(u);var s=new Uint8Array(c);o.push(s)}return new Blob(o,{type:e})}function me(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=atob(e),n=new Uint8Array(r.length),o=0;o<r.length;o++)n[o]=r.charCodeAt(o);return n}function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function be(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function we(){we=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ge(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ge(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ke(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function xe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ke(i,n,o,a,c,"next",t)}function c(t){ke(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ee(n.key),n)}}function Ee(t){var e=function(t){if("object"!=ge(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ge(e)?e:e+""}function _e(t,e,r){Se(t,e),e.set(t,r)}function Se(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function je(t,e){return t.get(Pe(t,e))}function Oe(t,e,r){return t.set(Pe(t,e),r),r}function Pe(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Te=new WeakMap,Ne=new WeakMap,Ie=new WeakMap,Ae=new WeakMap,Be=new WeakMap,Ge=new WeakMap,Fe=new WeakMap,Me=new WeakMap,De=new WeakMap,Ce=new WeakSet,Re=function(){return t=function t(){var e,r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,e=Ce),e.add(this),_e(this,Te,void 0),_e(this,Ne,void 0),_e(this,Ie,void 0),_e(this,Ae,!1),_e(this,Be,[]),_e(this,Ge,null),_e(this,Fe,null),_e(this,Me,[]),_e(this,De,(function(){if(je(Ae,r)&&je(Ie,r)){je(Ie,r).stop(),Oe(Ae,r,!1);var t=document.getElementById("camera-container");t&&t.classList.remove("open");var e=document.getElementById("open-documentations-camera-button");e&&(e.textContent="Open Camera")}}))},e=[{key:"render",value:(i=xe(we().mark((function t(){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n        <section>\n          <div class="new-story__header">\n            <div class="container">\n              <h1 class="new-story__header__title">Make a New Story</h1>\n              <p class="new-story__header__description">\n                Fill the form below to make a new story.<br>\n              </p>\n            </div>\n          </div>\n        </section>\n    \n        <section class="container">\n          <div class="new-form__container">\n            <form id="new-form" class="new-form">\n              <div class="form-control">\n                <label for="description-input" class="new-form__description__title">Description</label>\n    \n                <div class="new-form__description__container">\n                  <textarea\n                    id="description-input"\n                    name="description"\n                    placeholder="add your description here"\n                  ></textarea>\n                </div>\n              </div>\n              <div class="form-control">\n                <label for="documentations-input" class="new-form__documentations__title">Documentation</label>\n                <div id="documentations-more-info">You can include a photo as documentation</div>\n    \n                <div class="new-form__documentations__container">\n                  <div class="new-form__documentations__buttons">\n                    <button id="documentations-input-button" class="btn btn-outline" type="button">\n                      Import Photo\n                    </button>\n                    <input\n                      id="documentations-input"\n                      name="documentations"\n                      type="file"\n                      accept="image/*"\n                      hidden="hidden"\n                      aria-describedby="documentations-more-info"\n                    />\n\n                    <button id="open-documentations-camera-button" class="btn btn-outline" type="button">\n                      Open Camera\n                    </button>\n                  </div>\n                  <div id="camera-container" class="new-form__camera__container">\n                    <video id="camera-video" class="new-form__camera__video">\n                      Video stream not available.\n                    </video>\n                    <canvas style="display: none;" id="camera-canvas" class="new-form__camera__canvas"></canvas>\n         \n                    <div class="new-form__camera__tools">\n                      <select id="camera-select"></select>\n                      <div class="new-form__camera__tools_buttons">\n                        <button id="camera-take-button" class="btn" type="button">\n                          Take Photo\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  <ul id="documentations-taken-list" class="new-form__documentations__outputs"></ul>\n                </div>\n              </div>\n              <div class="form-control">\n                <div class="new-form__location__title">Location</div>\n    \n                <div class="new-form__location__container">\n                  <div class="new-form__location__map__container">\n                    <div id="map"></div>\n                    <div id="map-loading-container"></div>\n                  </div>\n                  <div class="new-form__location__lat-lng">\n                    <input type="text" name="latitude" value="-6.175389">\n                    <input type="text" name="longitude" value="106.827139">\n                  </div>\n                </div>\n              </div>\n              <div class="form-buttons">\n                <span id="submit-button-container">\n                  <a class="btn" href="#/">Batal</a>\n                </span>\n                <button class="btn" type="submit">Add Story</button>\n              </div>\n            </form>\n          </div>\n        </section>\n      ');case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"afterRender",value:(n=xe(we().mark((function t(){var e=this;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Oe(Te,this,new re({view:this,model:o})),Oe(Be,this,[]),t.next=4,this.initialMap();case 4:Pe(Ce,this,We).call(this),window.addEventListener("hashchange",je(De,this).bind(this)),je(Me,this).push((function(){window.removeEventListener("hashchange",je(De,e).bind(e))}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"initialMap",value:(r=xe(we().mark((function t(){var e=this;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Oe(Ge,this,L.map("map",{zoomControl:!0,doubleClickZoom:!1})),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var r=t.coords,n=r.latitude,o=r.longitude;je(Ge,e).setView([n,o],13),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(je(Ge,e)),Oe(Fe,e,L.marker([n,o]).addTo(je(Ge,e))),je(Fe,e).bindPopup("<b>Lokasi Awal</b><br>Latitude: ".concat(n.toFixed(6),"<br>Longitude: ").concat(o.toFixed(6)),{autoClose:!1,closeOnClick:!1}).openPopup(),je(Ge,e).on("click",(function(t){var r=t.latlng,n=r.lat,o=r.lng;je(Fe,e)?je(Fe,e).setLatLng([n,o]):Oe(Fe,e,L.marker([n,o]).addTo(je(Ge,e))),je(Fe,e).bindPopup("<b>Lokasi Baru</b><br>Latitude: ".concat(n.toFixed(6),"<br>Longitude: ").concat(o.toFixed(6)),{autoClose:!1,closeOnClick:!1}).openPopup(),je(Ne,e).elements.namedItem("latitude").value=n.toFixed(6),je(Ne,e).elements.namedItem("longitude").value=o.toFixed(6)}))}),(function(t){console.error("Geolocation error: ",t)})):console.log("Geolocation is not supported by this browser.");case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"storeSuccessfully",value:function(t){this.clearForm(),window.history.replaceState(null,"","#/"),window.dispatchEvent(new CustomEvent("navigate",{detail:{path:"/"}}))}},{key:"storeFailed",value:function(t){alert(t)}},{key:"clearForm",value:function(){je(Ne,this).reset()}},{key:"showMapLoading",value:function(){document.getElementById("map-loading-container").innerHTML=generateLoaderAbsoluteTemplate()}},{key:"hideMapLoading",value:function(){document.getElementById("map-loading-container").innerHTML=""}},{key:"showSubmitLoadingButton",value:function(){document.getElementById("submit-button-container").innerHTML='\n      <button class="btn" type="submit" disabled>\n        <i class="fas fa-spinner loader-button"></i> Add Story\n      </button>\n    '}},{key:"hideSubmitLoadingButton",value:function(){document.getElementById("submit-button-container").innerHTML='\n      <a class="btn" href="#/">Batal</a>\n    '}}],e&&Le(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i}();function We(){var t=this;Oe(Ne,this,document.getElementById("new-form")),je(Ne,this).addEventListener("submit",function(){var e=xe(we().mark((function e(r){var n,o,i,a,c;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),o=je(Ne,t).elements.namedItem("description").value,i=null===(n=je(Be,t)[0])||void 0===n?void 0:n.blob,a=parseFloat(je(Ne,t).elements.namedItem("latitude").value),c=parseFloat(je(Ne,t).elements.namedItem("longitude").value),o&&i){e.next=8;break}return alert("Keterangan dan foto wajib diisi."),e.abrupt("return");case 8:return e.prev=8,e.next=11,je(Te,t).postNewStory({description:o,photo:i,lat:a,lon:c});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error posting story:",e.t0),t.storeFailed("Failed to post story. Please try again.");case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("documentations-input").addEventListener("change",function(){var e=xe(we().mark((function e(r){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe(Be,t,[]),e.next=3,Pe(Ce,t,Ue).call(t,r.target.files[0]);case 3:return e.next=5,Pe(Ce,t,ze).call(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("documentations-input-button").addEventListener("click",(function(){je(Ne,t).elements.namedItem("documentations-input").click()}));var e=document.getElementById("camera-container");document.getElementById("open-documentations-camera-button").addEventListener("click",function(){var r=xe(we().mark((function r(n){return we().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e.classList.toggle("open"),Oe(Ae,t,e.classList.contains("open")),!je(Ae,t)){r.next=9;break}return n.currentTarget.textContent="Close Camera",Pe(Ce,t,He).call(t),r.next=8,je(Ie,t).launch();case 8:return r.abrupt("return");case 9:n.currentTarget.textContent="Open Camera",je(Ie,t)&&je(Ie,t).stop(),r.next=20;break;case 13:r.prev=13,r.t0=r.catch(0),console.error("Error handling camera:",r.t0),e.classList.remove("open"),Oe(Ae,t,!1),n.currentTarget.textContent="Open Camera",je(Ie,t)&&je(Ie,t).stop();case 20:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(t){return r.apply(this,arguments)}}())}function He(){var t=this;je(Ie,this)||Oe(Ie,this,new X({video:document.getElementById("camera-video"),cameraSelect:document.getElementById("camera-select"),canvas:document.getElementById("camera-canvas")})),je(Ie,this).addCheeseButtonListener("#camera-take-button",xe(we().mark((function e(){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(Ie,t).takePicture();case 2:return r=e.sent,Oe(Be,t,[]),e.next=6,Pe(Ce,t,Ue).call(t,r);case 6:return e.next=8,Pe(Ce,t,ze).call(t);case 8:case"end":return e.stop()}}),e)}))))}function Ue(t){return Ye.apply(this,arguments)}function Ye(){return(Ye=xe(we().mark((function t(e){var r,n;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,!(e instanceof String)){t.next=5;break}return t.next=4,ve(e,"image/png");case 4:r=t.sent;case 5:n={id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9)),blob:r},Oe(Be,this,[].concat(function(t){if(Array.isArray(t))return be(t)}(o=je(Be,this))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return be(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]));case 7:case"end":return t.stop()}var o}),t,this)})))).apply(this,arguments)}function ze(){return qe.apply(this,arguments)}function qe(){return(qe=xe(we().mark((function t(){var e,r=this;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=je(Be,this).reduce((function(t,e,r){var n=URL.createObjectURL(e.blob);return t.concat('\n            <li class="new-form__documentations__outputs-item">\n              <button type="button" data-deletepictureid="'.concat(e.id,'" class="new-form__documentations__outputs-item__delete-btn">\n                <img src="').concat(n,'" alt="Photo ').concat(r+1,'">\n              </button>\n            </li>\n          '))}),""),document.getElementById("documentations-taken-list").innerHTML=e,document.querySelectorAll("button[data-deletepictureid]").forEach((function(t){return t.addEventListener("click",(function(t){var e=t.currentTarget.dataset.deletepictureid;Pe(Ce,r,Ve).call(r,e)||console.log("Picture with id ".concat(e," was not found")),Pe(Ce,r,ze).call(r)}))}));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ve(t){var e=je(Be,this).find((function(e){return e.id==t}));return e?(Oe(Be,this,je(Be,this).filter((function(t){return t.id!=e.id}))),e):null}function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function Ke(){Ke=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Je(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Je(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Qe(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Ze(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Qe(i,n,o,a,c,"next",t)}function c(t){Qe(i,n,o,a,c,"throw",t)}a(void 0)}))}}function $e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xe(n.key),n)}}function Xe(t){var e=function(t){if("object"!=Je(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Je(e)?e:e+""}function tr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function er(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var rr=new WeakMap,nr=new WeakSet,or=function(){return t=function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),tr(this,e=nr),e.add(this),function(t,e){tr(t,e),e.set(t,null)}(this,rr)},e=[{key:"render",value:(i=Ze(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <section class="login-container">\n        <article class="login-form-container">\n          <h1 class="login__title">Masuk akun</h1>\n\n          <form id="login-form" class="login-form">\n            <div class="form-control">\n              <label for="email-input" class="login-form__email-title">Email</label>\n\n              <div class="login-form__title-container">\n                <input id="email-input" type="email" name="email" placeholder="Contoh: nama@email.com">\n              </div>\n            </div>\n            <div class="form-control">\n              <label for="password-input" class="login-form__password-title">Password</label>\n\n              <div class="login-form__title-container">\n                <input id="password-input" type="password" name="password" placeholder="Masukkan password Anda">\n              </div>\n            </div>\n            <div class="form-buttons login-form__form-buttons">\n              <div id="submit-button-container">\n                <button class="btn" type="submit">Masuk</button>\n              </div>\n              <p class="login-form__do-not-have-account">Belum punya akun? <a href="#/register">Daftar</a></p>\n            </div>\n          </form>\n        </article>\n      </section>\n    ');case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"afterRender",value:(r=Ze(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=rr,r=new re({view:this,model:o,authModel:n}),e.set(er(e,this),r),er(nr,this,ir).call(this);case 2:case"end":return t.stop()}var e,r}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"loginSuccessfully",value:function(t){console.log(t),setTimeout((function(){return location.hash="/"}),1e3)}},{key:"loginFailed",value:function(t){alert(t)}},{key:"showSubmitLoadingButton",value:function(){document.getElementById("submit-button-container").innerHTML='\n      <button class="btn" type="submit" disabled>\n        <i class="fas fa-spinner loader-button"></i> Masuk\n      </button>\n    '}},{key:"hideSubmitLoadingButton",value:function(){document.getElementById("submit-button-container").innerHTML='\n      <button class="btn" type="submit">Masuk</button>\n    '}}],e&&$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,i}();function ir(){var t=this;document.getElementById("login-form").addEventListener("submit",function(){var e=Ze(Ke().mark((function e(r){var n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n={email:document.getElementById("email-input").value,password:document.getElementById("password-input").value},e.next=4,(o=rr,i=t,o.get(er(o,i))).getLogin(n);case 4:case"end":return e.stop()}var o,i}),e)})));return function(t){return e.apply(this,arguments)}}())}function ar(t){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(t)}function cr(){cr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ar(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ar(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ur(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function sr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ur(i,n,o,a,c,"next",t)}function c(t){ur(i,n,o,a,c,"throw",t)}a(void 0)}))}}function lr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fr(n.key),n)}}function fr(t){var e=function(t){if("object"!=ar(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ar(e)?e:e+""}function hr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pr(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var dr=new WeakMap,yr=new WeakSet,vr=function(){return t=function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),hr(this,e=yr),e.add(this),function(t,e){hr(t,e),e.set(t,null)}(this,dr)},e=[{key:"render",value:(n=sr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <section class="register-container">\n        <div class="register-form-container">\n          <h1 class="register__title">Sign Up</h1>\n\n          <form id="register-form" class="register-form">\n            <div class="form-control">\n              <label for="name-input" class="register-form__name-title">Nama lengkap</label>\n\n              <div class="register-form__title-container">\n                <input id="name-input" type="text" name="name" placeholder="Masukkan nama lengkap Anda">\n              </div>\n            </div>\n            <div class="form-control">\n              <label for="email-input" class="register-form__email-title">Email</label>\n\n              <div class="register-form__title-container">\n                <input id="email-input" type="email" name="email" placeholder="Contoh: nama@email.com">\n              </div>\n            </div>\n            <div class="form-control">\n              <label for="password-input" class="register-form__password-title">Password</label>\n\n              <div class="register-form__title-container">\n                <input id="password-input" type="password" name="password" placeholder="Masukkan password baru">\n              </div>\n            </div>\n            <div class="form-buttons register-form__form-buttons">\n              <div id="submit-button-container">\n                <button class="btn" type="submit">Sign Up</button>\n              </div>\n              <p class="register-form__already-have-account">Already have an account? <a href="#/login">Masuk</a></p>\n            </div>\n          </form>\n        </div>\n      </section>\n    ');case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"afterRender",value:(r=sr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=dr,r=new re({view:this,model:o}),e.set(pr(e,this),r),pr(yr,this,mr).call(this);case 2:case"end":return t.stop()}var e,r}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"registeredSuccessfully",value:function(t){console.log(t),location.hash="/login"}},{key:"registeredFailed",value:function(t){alert(t)}},{key:"showSubmitLoadingButton",value:function(){document.getElementById("submit-button-container").innerHTML='\n      <button class="btn" type="submit" disabled>\n        <i class="fas fa-spinner loader-button"></i> Sign Up\n      </button>\n    '}},{key:"hideSubmitLoadingButton",value:function(){document.getElementById("submit-button-container").innerHTML='\n      <button class="btn" type="submit">Sign Up</button>\n    '}}],e&&lr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n}();function mr(){var t=this;document.getElementById("register-form").addEventListener("submit",function(){var e=sr(cr().mark((function e(r){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n={name:document.getElementById("name-input").value,email:document.getElementById("email-input").value,password:document.getElementById("password-input").value},e.next=4,(o=dr,i=t,o.get(pr(o,i))).getRegistered(n);case 4:case"end":return e.stop()}var o,i}),e)})));return function(t){return e.apply(this,arguments)}}())}function gr(t){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function br(){br=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==gr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(gr(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function wr(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function kr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){wr(i,n,o,a,c,"next",t)}function c(t){wr(i,n,o,a,c,"throw",t)}a(void 0)}))}}function xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lr(n.key),n)}}function Lr(t){var e=function(t){if("object"!=gr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==gr(e)?e:e+""}function Er(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function _r(t,e){return t.get(jr(t,e))}function Sr(t,e,r){return t.set(jr(t,e),r),r}function jr(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Or=new WeakMap,Pr=new WeakMap,Tr=new WeakMap,Nr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Er(this,Or,null),Er(this,Pr,void 0),Er(this,Tr,null)},e=[{key:"render",value:(i=kr(br().mark((function t(){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <section>\n        <div class="story-detail__container">\n          <p id="story-id"></p>\n          <p id="story-name"></p>\n          <p id="story-description"></p>\n          <img id="story-photo" src="" alt="Photo" />\n          <p id="story-created-at"></p>\n          <p id="story-lat"></p>\n          <p id="story-lon"></p>\n          <div id="map" style="height: 400px; width: 100%;"></div>\n\n          \x3c!-- Loading Container --\x3e\n          <div id="story-detail-loading-container" class="loading-container" style="display: none;">\n            <div class="loader">Loading...</div>\n          </div>\n        </div>\n      </section>\n    ');case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"afterRender",value:(n=kr(br().mark((function t(){var e;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=b(w()).id,console.log(e),Sr(Or,this,new re({view:this,model:o})),t.next=5,_r(Or,this).getDetailStory(e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"StoryDetail",value:function(t){if(!t)return console.error("StoryDetail: story is undefined"),void this.storeFailed("Story data is missing");Sr(Tr,this,t),document.getElementById("story-id").innerHTML="ID: ".concat(t.id||"N/A"),document.getElementById("story-name").innerHTML="Nama: ".concat(t.name||"N/A"),document.getElementById("story-description").innerHTML="Deskripsi: ".concat(t.description||"N/A"),document.getElementById("story-photo").src=t.photoUrl||"",document.getElementById("story-created-at").innerHTML="Tanggal: ".concat(t.createdAt?new Date(t.createdAt).toLocaleString():"N/A"),document.getElementById("story-lat").innerHTML="Lat: ".concat(t.lat||"N/A"),document.getElementById("story-lon").innerHTML="Lon: ".concat(t.lon||"N/A")}},{key:"initialMap",value:(r=kr(br().mark((function t(e,r){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Sr(Pr,this,L.map("map",{zoomControl:!0,doubleClickZoom:!1})),e&&r?(_r(Pr,this).setView([e,r],13),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(_r(Pr,this)),L.marker([e,r]).addTo(_r(Pr,this)).bindPopup("<b>".concat(_r(Tr,this).name||"Nama Tidak Tersedia","</b><br>\n        Deskripsi: ").concat(_r(Tr,this).description||"Tidak ada deskripsi","<br>\n        Latitude: ").concat(e.toFixed(6),"<br>\n        Longitude: ").concat(r.toFixed(6)),{autoClose:!1,closeOnClick:!1}).openPopup()):console.log("Lokasi tidak tersedia.");case 2:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"hideDetailLoading",value:function(){var t=document.getElementById("story-detail-loading-container");t&&(t.style.display="none")}},{key:"showDetailLoading",value:function(){var t=document.getElementById("story-detail-loading-container");t&&(t.style.display="block")}},{key:"storeFailed",value:function(t){alert("Error: ".concat(t))}},{key:"storeSuccessfully",value:function(t,e){console.log(t,e)}}],e&&xr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i}();function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function Ar(){Ar=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ir(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ir(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Br(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Gr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Br(i,n,o,a,c,"next",t)}function c(t){Br(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mr(n.key),n)}}function Mr(t){var e=function(t){if("object"!=Ir(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ir(e)?e:e+""}function Dr(t,e){return t.get(Cr(t,e))}function Cr(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Rr=new WeakMap,Wr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}(this,Rr,null)},e=[{key:"render",value:(n=Gr(Ar().mark((function t(){return Ar().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <section>\n        <div id="bookmark-loading">'.concat('<div class="loader loader-absolute"></div>','</div>\n        <div id="reports-list" class="reports-list"></div>\n      </section>\n    '));case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"afterRender",value:(r=Gr(Ar().mark((function t(){return Ar().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Rr,r=new re({view:this,model:Tt}),e.set(Cr(e,this),r),Dr(Rr,this).initialBookmark();case 2:case"end":return t.stop()}var e,r}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"showReportsListLoading",value:function(){document.getElementById("bookmark-loading").style.display="block"}},{key:"hideReportsListLoading",value:function(){document.getElementById("bookmark-loading").style.display="none"}},{key:"populateBookmarkedReports",value:function(t,e){var r=this,n=document.getElementById("reports-list");if(n.innerHTML="",!Array.isArray(e)||0===e.length)return console.warn("populateBookmarkedReports: No reports to display or invalid data received.",e),void(n.innerHTML='\n    <div id="reports-list-empty" class="reports-list__empty">\n      <h2>Tidak ada laporan yang tersedia</h2>\n      <p>Saat ini, tidak ada laporan kerusakan fasilitas umum yang dapat ditampilkan.</p>\n    </div>\n  ');e.forEach((function(t){var e=t.id,r=t.name,o=void 0===r?"Tanpa Nama":r,i=t.description,a=void 0===i?"-":i,c=t.photoUrl,u=t.createdAt,s=(t.location,u?function(t){return new Date(t).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}(u):"Tanggal tidak diketahui"),l=void 0!==t.lat&&void 0!==t.lon?"Latitude: ".concat(t.lat,", Longitude: ").concat(t.lon):"Lokasi tidak diketahui";n.innerHTML+='\n        <div tabindex="0" class="report-item" data-reportid="'.concat(e,'">\n          <img class="report-item__image" src="').concat(c,'" alt="').concat(o,'">\n          <div class="report-item__body">\n            <div class="report-item__main">\n              <h2 class="report-item__title">').concat(o,'</h2>\n              <div class="report-item__more-info">\n                <div class="report-item__createdat">\n                  <i class="fas fa-calendar-alt"></i> ').concat(s,'\n                </div>\n                <div class="report-item__location">\n                  <i class="fas fa-map"></i> ').concat(l,'\n                </div>\n              </div>\n            </div>\n            <div class="report-item__description">').concat(a,'</div>\n            <div class="report-item__actions">\n              <button class="bookmark-button" data-id="').concat(e,'" aria-label="Hapus dari bookmark">\n                <i class="fas fa-bookmark"></i> Hapus dari Bookmark\n              </button>\n              <a href="#/stories/').concat(e,'" class="detail-button">Selengkapnya</a>\n            </div>\n          </div>\n        </div>\n      ')})),n.querySelectorAll(".bookmark-button").forEach((function(t){t.addEventListener("click",function(){var o=Gr(Ar().mark((function o(i){var a,c,u;return Ar().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i.preventDefault(),a=t.dataset.id,c=!0,u=e.find((function(t){return t.id===a}))){o.next=7;break}return console.error("Report object not found for ID:",a),o.abrupt("return");case 7:return console.log("Unbookmark button clicked:",{reportId:a,reportObject:u}),o.prev=8,o.next=11,Dr(Rr,r).toggleBookmark(u,c);case 11:o.sent?(console.log("Unbookmark successful in IndexedDB:",a),t.closest(".report-item").remove(),0===n.children.length&&(n.innerHTML='\n    <div id="reports-list-empty" class="reports-list__empty">\n      <h2>Tidak ada laporan yang tersedia</h2>\n      <p>Saat ini, tidak ada laporan kerusakan fasilitas umum yang dapat ditampilkan.</p>\n    </div>\n  ')):console.error("Failed to unbookmark in IndexedDB"),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(8),console.error("Error unbookmarking:",o.t0);case 18:case"end":return o.stop()}}),o,null,[[8,15]])})));return function(t){return o.apply(this,arguments)}}())})),console.log(t)}},{key:"populateBookmarkedReportsError",value:function(t){document.getElementById("reports-list").innerHTML=function(t){return'\n    <div id="reports-list-error" class="reports-list__error">\n      <h2>Terjadi kesalahan pengambilan daftar laporan</h2>\n      <p>'.concat(t||"Gunakan jaringan lain atau laporkan error ini.","</p>\n    </div>\n  ")}(t)}}],e&&Fr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n}();const Hr={"/login":function(){return P(new or)},"/register":function(){return P(new vr)},"/":function(){return T(new ye)},"/tambah":function(){return T(new Re)},"/stories/:id":function(){return T(new Nr)},"/bookmark":function(){return T(new Wr)}};function Ur(t){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(t)}function Yr(){Yr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ur(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ur(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function zr(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function qr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zr(i,n,o,a,c,"next",t)}function c(t){zr(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Vr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jr(n.key),n)}}function Jr(t){var e=function(t){if("object"!=Ur(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ur(e)?e:e+""}function Kr(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Qr(t,e){return t.get($r(t,e))}function Zr(t,e,r){return t.set($r(t,e),r),r}function $r(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Xr=new WeakMap,tn=new WeakMap,en=new WeakMap;const rn=function(){return t=function t(e){var r=e.navigationDrawer,n=e.drawerButton,o=e.content;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Kr(this,Xr,null),Kr(this,tn,null),Kr(this,en,null),Zr(Xr,this,o),Zr(tn,this,n),Zr(en,this,r),this._setupDrawer()},e=[{key:"_setupDrawer",value:function(){var t=this;Qr(tn,this).addEventListener("click",(function(){Qr(en,t).classList.toggle("open")})),document.body.addEventListener("click",(function(e){Qr(en,t).contains(e.target)||Qr(tn,t).contains(e.target)||Qr(en,t).classList.remove("open"),Qr(en,t).querySelectorAll("a").forEach((function(r){r.contains(e.target)&&Qr(en,t).classList.remove("open")}))}))}},{key:"renderPage",value:(r=qr(Yr().mark((function t(){var e,r,n,o=this;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=k(),r=Hr[e]?Hr[e]():null){t.next=5;break}return Qr(Xr,this).innerHTML="<h2>Halaman tidak ditemukan</h2>",t.abrupt("return");case 5:if(n=function(){var t=qr(Yr().mark((function t(){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.render();case 2:if(Qr(Xr,o).innerHTML=t.sent,Qr(Xr,o).offsetWidth,"function"!=typeof r.afterRender){t.next=7;break}return t.next=7,r.afterRender();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),!document.startViewTransition){t.next=10;break}document.startViewTransition(n),t.next=12;break;case 10:return t.next=12,n();case 12:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],e&&Vr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}function on(){on=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==nn(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(nn(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function an(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function cn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){an(i,n,o,a,c,"next",t)}function c(t){an(i,n,o,a,c,"throw",t)}a(void 0)}))}}function un(){return sn.apply(this,arguments)}function sn(){return(sn=cn(on().mark((function t(){var e;return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Notification"in window){t.next=3;break}return console.error("Notification API unsupported."),t.abrupt("return",!1);case 3:if("granted"!==Notification.permission){t.next=5;break}return t.abrupt("return",!0);case 5:return t.next=7,Notification.requestPermission();case 7:if("denied"!==(e=t.sent)){t.next=11;break}return alert("Izin notifikasi ditolak."),t.abrupt("return",!1);case 11:if("default"!==e){t.next=14;break}return alert("Izin notifikasi ditutup atau diabaikan."),t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ln(){return fn.apply(this,arguments)}function fn(){return(fn=cn(on().mark((function t(){var e;return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dn();case 3:if(e=t.sent){t.next=7;break}return console.error("Service Worker registration not found"),t.abrupt("return",null);case 7:return t.next=9,e.pushManager.getSubscription();case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(0),console.error("Error getting push subscription:",t.t0),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function hn(){return pn.apply(this,arguments)}function pn(){return(pn=cn(on().mark((function t(){return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ln();case 2:return t.abrupt("return",!!t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dn(){return yn.apply(this,arguments)}function yn(){return(yn=cn(on().mark((function t(){var e;return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.serviceWorker.getRegistration();case 3:if(e=t.sent){t.next=10;break}return console.log("Service Worker not registered, registering now..."),t.next=8,navigator.serviceWorker.register("./sw.bundle.js");case 8:e=t.sent,console.log("Service Worker registered successfully:",e.scope);case 10:return t.abrupt("return",e);case 13:throw t.prev=13,t.t0=t.catch(0),console.error("Error ensuring Service Worker registration:",t.t0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function vn(){return mn.apply(this,arguments)}function mn(){return(mn=cn(on().mark((function t(){var e,r,n,o,i,a,c,u,s;return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,un();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,hn();case 6:if(!t.sent){t.next=9;break}return alert("Sudah berlangganan push notification."),t.abrupt("return");case 9:return e="Failed to subscribe to push notifications.",r="Subscribed to push notifications.",n=null,t.prev=12,t.next=15,dn();case 15:if(o=t.sent){t.next=18;break}throw new Error("Service Worker registration not found");case 18:if(i={userVisibleOnly:!0,applicationServerKey:me("BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk")},o.pushManager){t.next=21;break}throw new Error("Push manager not supported");case 21:return t.next=23,o.pushManager.subscribe(i);case 23:if(n=t.sent){t.next=26;break}throw new Error("Failed to create push subscription");case 26:return a=n.toJSON(),c=a.endpoint,u=a.keys,t.next=29,St({endpoint:c,keys:u});case 29:if(t.sent.ok){t.next=36;break}if(alert(e),!n){t.next=35;break}return t.next=35,n.unsubscribe();case 35:return t.abrupt("return");case 36:alert(r),t.next=52;break;case 39:if(t.prev=39,t.t0=t.catch(12),s=e,"NotAllowedError"===t.t0.name?s="Notification permission denied. Please enable notifications in your browser settings.":"NotSupportedError"===t.t0.name?s="Push notifications are not supported by your browser.":"AbortError"===t.t0.name&&(s="Push notification subscription was aborted."),alert(s),!n){t.next=52;break}return t.prev=45,t.next=48,n.unsubscribe();case 48:t.next=52;break;case 50:t.prev=50,t.t1=t.catch(45);case 52:case"end":return t.stop()}}),t,null,[[12,39],[45,50]])})))).apply(this,arguments)}function gn(){return bn.apply(this,arguments)}function bn(){return(bn=cn(on().mark((function t(){var e,r,n,o,i,a,c;return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="Failed to unsubscribe from push notifications.",r="Successfully unsubscribed from push notifications.",t.prev=2,t.next=5,dn();case 5:if(n=t.sent){t.next=8;break}throw new Error("Service Worker registration not found");case 8:return t.next=10,n.pushManager.getSubscription();case 10:if(o=t.sent){t.next=14;break}return alert("Tidak bisa memutus langganan push notification karena belum berlangganan sebelumnya."),t.abrupt("return",!1);case 14:return i=o.toJSON(),a=i.endpoint,i.keys,t.next=17,Ot({endpoint:a});case 17:if((c=t.sent).ok){t.next=21;break}throw console.error("Server unsubscribe response:",c),new Error("Server unsubscribe failed");case 21:return t.next=23,o.unsubscribe();case 23:if(t.sent){t.next=26;break}throw new Error("Local unsubscribe failed");case 26:return alert(r),t.abrupt("return",!0);case 30:return t.prev=30,t.t0=t.catch(2),console.error("Unsubscribe error:",t.t0),alert(e),t.abrupt("return",!1);case 35:case"end":return t.stop()}}),t,null,[[2,30]])})))).apply(this,arguments)}function wn(){return kn.apply(this,arguments)}function kn(){return kn=cn(on().mark((function t(){var e,r,n;return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.getElementById("push-notification-tools")){t.next=4;break}return console.error("Push notification tools element not found"),t.abrupt("return");case 4:return r=function(){var t=cn(on().mark((function t(){var r,n;return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hn();case 2:r=t.sent,(n=e.querySelector(".notification-button"))&&(n.className="notification-button ".concat(r?"subscribed":""),n.innerHTML='\n        <i class="fas '.concat(r?"fa-bell":"fa-bell-slash",'"></i>\n        ').concat(r?"Nonactivate Notification":"Activate Notification","\n      "));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),(n=document.createElement("button")).className="notification-button",n.innerHTML='\n    <i class="fas fa-bell-slash"></i>\n    Activate Notification\n  ',n.addEventListener("click",cn(on().mark((function t(){return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hn();case 2:if(!t.sent){t.next=12;break}return t.next=6,gn();case 6:if(!t.sent){t.next=10;break}return t.next=10,r();case 10:t.next=16;break;case 12:return t.next=14,vn();case 14:return t.next=16,r();case 16:case"end":return t.stop()}}),t)})))),e.appendChild(n),t.next=12,r();case 12:case"end":return t.stop()}}),t)}))),kn.apply(this,arguments)}function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function Ln(){Ln=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var L=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==xn(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(xn(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function En(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _n(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){En(i,n,o,a,c,"next",t)}function c(t){En(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Sn(){var t=document.querySelector(".main-header");t&&("#/login"===location.hash||"#/register"===location.hash?t.style.display="none":t.style.display="flex")}document.addEventListener("DOMContentLoaded",_n(Ln().mark((function t(){var e,r,n,o;return Ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Sn(),e=new rn({content:document.querySelector("#main-content"),drawerButton:document.querySelector("#drawer-button"),navigationDrawer:document.querySelector("#navigation-drawer")}),t.next=4,e.renderPage();case 4:return r=function(){var t=_n(Ln().mark((function t(){return Ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.renderPage();case 2:Sn(),"#/logout"===location.hash&&(confirm("Apakah kamu yakin ingin keluar?")?(N(),window.location.hash="/login"):window.history.back()),X.stopAllStreams();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),window.addEventListener("hashchange",r),window.addEventListener("navigate",r),n=document.querySelector("#main-content"),(o=document.querySelector(".skip-to-content")).addEventListener("click",(function(t){t.preventDefault(),o.blur(),n.focus(),n.scrollIntoView()})),t.next=12,wn();case 12:case"end":return t.stop()}}),t)}))))}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={id:t,exports:{}};return e[t](i,i.exports,n),i.exports}n.m=e,t=[],n.O=(e,r,o,i)=>{if(!r){var a=1/0;for(l=0;l<t.length;l++){for(var[r,o,i]=t[l],c=!0,u=0;u<r.length;u++)(!1&i||a>=i)&&Object.keys(n.O).every((t=>n.O[t](r[u])))?r.splice(u--,1):(c=!1,i<a&&(a=i));if(c){t.splice(l--,1);var s=o();void 0!==s&&(e=s)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[r,o,i]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.e=()=>Promise.resolve(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={524:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,i,[a,c,u]=r,s=0;if(a.some((e=>0!==t[e]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(u)var l=u(n)}for(e&&e(r);s<a.length;s++)i=a[s],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},r=self.webpackChunkapp_starter_project_with_webpack=self.webpackChunkapp_starter_project_with_webpack||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),n.nc=void 0;var o=n.O(void 0,[96],(()=>n(956)));o=n.O(o)})();
//# sourceMappingURL=app.bundle.js.map